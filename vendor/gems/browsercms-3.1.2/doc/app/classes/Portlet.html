<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Portlet</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Portlet</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/app/models/portlet_rb.html">
                app/models/portlet.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                ActiveRecord::Base
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000078">columns_for_index</a>&nbsp;&nbsp;
      <a href="#M000070">default_template</a>&nbsp;&nbsp;
      <a href="#M000072">default_template_path</a>&nbsp;&nbsp;
      <a href="#M000075">enable_template_editor</a>&nbsp;&nbsp;
      <a href="#M000069">form</a>&nbsp;&nbsp;
      <a href="#M000067">get_subclass</a>&nbsp;&nbsp;
      <a href="#M000074">handler</a>&nbsp;&nbsp;
      <a href="#M000065">has_edit_link?</a>&nbsp;&nbsp;
      <a href="#M000064">helper_class</a>&nbsp;&nbsp;
      <a href="#M000063">helper_path</a>&nbsp;&nbsp;
      <a href="#M000061">inherited</a>&nbsp;&nbsp;
      <a href="#M000073">inline_options</a>&nbsp;&nbsp;
      <a href="#M000079">instance_name</a>&nbsp;&nbsp;
      <a href="#M000068">portlet_type_name</a>&nbsp;&nbsp;
      <a href="#M000076">render_inline</a>&nbsp;&nbsp;
      <a href="#M000071">set_default_template_path</a>&nbsp;&nbsp;
      <a href="#M000083">store_errors_in_flash</a>&nbsp;&nbsp;
      <a href="#M000084">store_hash_in_flash</a>&nbsp;&nbsp;
      <a href="#M000082">store_params_in_flash</a>&nbsp;&nbsp;
      <a href="#M000062">template_path</a>&nbsp;&nbsp;
      <a href="#M000077">type_name</a>&nbsp;&nbsp;
      <a href="#M000066">types</a>&nbsp;&nbsp;
      <a href="#M000081">url_for_failure</a>&nbsp;&nbsp;
      <a href="#M000080">url_for_success</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">connect_to_container</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
These are here simply to temporarily hold these values Makes it easy to
pass them through the process of selecting a portlet type

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">connect_to_page_id</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
These are here simply to temporarily hold these values Makes it easy to
pass them through the process of selecting a portlet type

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">controller</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000078" class="method-detail">
        <a name="M000078"></a>

        <div class="method-heading">
          <a href="#M000078" class="method-signature">
          <span class="method-name">columns_for_index</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000078-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000078-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/portlet.rb, line 120</span>
120:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">columns_for_index</span>
121:     [ {<span class="ruby-identifier">:label</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Name&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:name</span>, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;name&quot;</span> },
122:       {<span class="ruby-identifier">:label</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Type&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:type_name</span>, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;type&quot;</span> },
123:       {<span class="ruby-identifier">:label</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Updated On&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:updated_on_string</span>, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;updated_at&quot;</span>} ]
124:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000070" class="method-detail">
        <a name="M000070"></a>

        <div class="method-heading">
          <a href="#M000070" class="method-signature">
          <span class="method-name">default_template</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000070-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000070-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 70</span>
70:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_template</span>
71:     <span class="ruby-identifier">template_file</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">view_paths</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vp</span><span class="ruby-operator">|</span> 
72:       <span class="ruby-identifier">path</span> = <span class="ruby-identifier">vp</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;/&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">vp</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">vp</span>.<span class="ruby-identifier">to_s</span>)
73:       <span class="ruby-constant">Dir</span>[<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">default_template_path</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">'.*'</span>]
74:     <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">first</span>
75:     <span class="ruby-identifier">template_file</span> <span class="ruby-value">? </span><span class="ruby-identifier">open</span>(<span class="ruby-identifier">template_file</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">read</span> } <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;&quot;</span>
76:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000072" class="method-detail">
        <a name="M000072"></a>

        <div class="method-heading">
          <a href="#M000072" class="method-signature">
          <span class="method-name">default_template_path</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000072-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000072-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 82</span>
82:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_template_path</span>
83:     <span class="ruby-ivar">@default_template_path</span> <span class="ruby-operator">||=</span> <span class="ruby-node">&quot;portlets/#{name.tableize.sub('_portlets','')}/render&quot;</span>
84:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000075" class="method-detail">
        <a name="M000075"></a>

        <div class="method-heading">
          <a href="#M000075" class="method-signature">
          <span class="method-name">enable_template_editor</span><span class="method-args">(enabled)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Determines if the template editor in the CMS UI will be enabled when
creating or editing instances of this portlet If enabled, the portlet will
use the template code stored in the database. If not, it will render from
the render.html.erb file created.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000075-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000075-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/portlet.rb, line 102</span>
102:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">enable_template_editor</span> (<span class="ruby-identifier">enabled</span>)
103:     <span class="ruby-identifier">render_inline</span> <span class="ruby-identifier">enabled</span>
104:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000069" class="method-detail">
        <a name="M000069"></a>

        <div class="method-heading">
          <a href="#M000069" class="method-signature">
          <span class="method-name">form</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000069-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000069-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 66</span>
66:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">form</span>
67:     <span class="ruby-node">&quot;portlets/#{name.tableize.sub('_portlets','')}/form&quot;</span>
68:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000067" class="method-detail">
        <a name="M000067"></a>

        <div class="method-heading">
          <a href="#M000067" class="method-signature">
          <span class="method-name">get_subclass</span><span class="method-args">(type)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000067-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000067-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 56</span>
56:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_subclass</span>(<span class="ruby-identifier">type</span>)
57:     <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;Unknown Portlet Type&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">types</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:name</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">type</span>)
58:     <span class="ruby-identifier">type</span>.<span class="ruby-identifier">constantize</span> 
59:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000074" class="method-detail">
        <a name="M000074"></a>

        <div class="method-heading">
          <a href="#M000074" class="method-signature">
          <span class="method-name">handler</span><span class="method-args">(handler_type)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000074-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000074-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 95</span>
95:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">handler</span>(<span class="ruby-identifier">handler_type</span>)
96:     <span class="ruby-identifier">define_method</span>(<span class="ruby-identifier">:handler</span>) { <span class="ruby-identifier">handler_type</span> }
97:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000065" class="method-detail">
        <a name="M000065"></a>

        <div class="method-heading">
          <a href="#M000065" class="method-signature">
          <span class="method-name">has_edit_link?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000065-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000065-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 42</span>
42:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">has_edit_link?</span>
43:     <span class="ruby-keyword kw">false</span>
44:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000064" class="method-detail">
        <a name="M000064"></a>

        <div class="method-heading">
          <a href="#M000064" class="method-signature">
          <span class="method-name">helper_class</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000064-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000064-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 36</span>
36:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">helper_class</span>
37:         <span class="ruby-node">&quot;#{name}Helper&quot;</span>.<span class="ruby-identifier">constantize</span>
38:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000063" class="method-detail">
        <a name="M000063"></a>

        <div class="method-heading">
          <a href="#M000063" class="method-signature">
          <span class="method-name">helper_path</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000063-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000063-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 32</span>
32:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">helper_path</span>
33:         <span class="ruby-node">&quot;app/portlets/helpers/#{name.underscore}_helper.rb&quot;</span>
34:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000061" class="method-detail">
        <a name="M000061"></a>

        <div class="method-heading">
          <a href="#M000061" class="method-signature">
          <span class="method-name">inherited</span><span class="method-args">(subclass)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000061-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000061-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 16</span>
16:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">inherited</span>(<span class="ruby-identifier">subclass</span>)
17:     <span class="ruby-keyword kw">super</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-keyword kw">super</span>
18:   <span class="ruby-keyword kw">ensure</span>
19:     <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword kw">do</span>
20:       
21:       <span class="ruby-identifier">has_dynamic_attributes</span>
22:       
23:       <span class="ruby-identifier">acts_as_content_block</span>(
24:         <span class="ruby-identifier">:versioned</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, 
25:         <span class="ruby-identifier">:publishable</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>,
26:         <span class="ruby-identifier">:renderable</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:instance_variable_name_for_view</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;@portlet&quot;</span>})
27:       
28:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">template_path</span>
29:         <span class="ruby-identifier">default_template_path</span>
30:       <span class="ruby-keyword kw">end</span>      
31:       
32:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">helper_path</span>
33:         <span class="ruby-node">&quot;app/portlets/helpers/#{name.underscore}_helper.rb&quot;</span>
34:       <span class="ruby-keyword kw">end</span>
35: 
36:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">helper_class</span>
37:         <span class="ruby-node">&quot;#{name}Helper&quot;</span>.<span class="ruby-identifier">constantize</span>
38:       <span class="ruby-keyword kw">end</span>      
39:     <span class="ruby-keyword kw">end</span>      
40:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000076" class="method-detail">
        <a name="M000076"></a>

        <div class="method-heading">
          <a href="#M000076" class="method-signature">
          <span class="method-name">render_inline</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000076-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000076-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/portlet.rb, line 106</span>
106:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">render_inline</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
107:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
108:       <span class="ruby-ivar">@render_inline</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
109:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-operator">!</span><span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@render_inline</span>)
110:       <span class="ruby-ivar">@render_inline</span> = <span class="ruby-keyword kw">true</span>
111:     <span class="ruby-keyword kw">else</span>
112:       <span class="ruby-ivar">@render_inline</span>
113:     <span class="ruby-keyword kw">end</span>
114:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000071" class="method-detail">
        <a name="M000071"></a>

        <div class="method-heading">
          <a href="#M000071" class="method-signature">
          <span class="method-name">set_default_template_path</span><span class="method-args">(s)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000071-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000071-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 78</span>
78:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_default_template_path</span>(<span class="ruby-identifier">s</span>)
79:     <span class="ruby-ivar">@default_template_path</span> = <span class="ruby-identifier">s</span>
80:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000062" class="method-detail">
        <a name="M000062"></a>

        <div class="method-heading">
          <a href="#M000062" class="method-signature">
          <span class="method-name">template_path</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000062-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000062-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 28</span>
28:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">template_path</span>
29:         <span class="ruby-identifier">default_template_path</span>
30:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000066" class="method-detail">
        <a name="M000066"></a>

        <div class="method-heading">
          <a href="#M000066" class="method-signature">
          <span class="method-name">types</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000066-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000066-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 46</span>
46:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">types</span>
47:     <span class="ruby-ivar">@types</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span> 
48:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">d</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/app\/portlets/</span>
49:         <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{d}/*_portlet.rb&quot;</span>].<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> 
50:           <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">p</span>, <span class="ruby-value str">&quot;.rb&quot;</span>).<span class="ruby-identifier">classify</span>
51:         <span class="ruby-keyword kw">end</span>
52:       <span class="ruby-keyword kw">end</span>
53:     <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort</span>
54:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000073" class="method-detail">
        <a name="M000073"></a>

        <div class="method-heading">
          <a href="#M000073" class="method-signature">
          <span class="method-name">inline_options</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Called by &#8216;render&#8217; to determine if this portlet should render
itself using a file (render.html.erb) or using its &#8216;template&#8217;
attribute.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000073-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000073-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 88</span>
88:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inline_options</span>
89:     <span class="ruby-identifier">options</span> = {}
90:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:inline</span>] = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">template</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">render_inline</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">template</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">template</span>.<span class="ruby-identifier">blank?</span>)
91:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:type</span>] = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">handler</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">handler</span>.<span class="ruby-identifier">blank?</span>
92:     <span class="ruby-identifier">options</span>
93:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000079" class="method-detail">
        <a name="M000079"></a>

        <div class="method-heading">
          <a href="#M000079" class="method-signature">
          <span class="method-name">instance_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000079-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000079-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/portlet.rb, line 127</span>
127:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">instance_name</span>
128:     <span class="ruby-node">&quot;#{self.class.name.demodulize.underscore}_#{id}&quot;</span>
129:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000068" class="method-detail">
        <a name="M000068"></a>

        <div class="method-heading">
          <a href="#M000068" class="method-signature">
          <span class="method-name">portlet_type_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
For column in list
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000068-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000068-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/portlet.rb, line 62</span>
62:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">portlet_type_name</span>
63:     <span class="ruby-identifier">type</span>.<span class="ruby-identifier">titleize</span>
64:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000083" class="method-detail">
        <a name="M000083"></a>

        <div class="method-heading">
          <a href="#M000083" class="method-signature">
          <span class="method-name">store_errors_in_flash</span><span class="method-args">(errors)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This will convert the errors object into a hash and then store it in the
flash under the key #{portlet.instance_name}_errors
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000083-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000083-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/portlet.rb, line 153</span>
153:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">store_errors_in_flash</span>(<span class="ruby-identifier">errors</span>)
154:     <span class="ruby-identifier">store_hash_in_flash</span>(<span class="ruby-node">&quot;#{instance_name}_errors&quot;</span>, 
155:       <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">inject</span>({}){<span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, (<span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span>)<span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>; <span class="ruby-identifier">h</span>})
156:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000084" class="method-detail">
        <a name="M000084"></a>

        <div class="method-heading">
          <a href="#M000084" class="method-signature">
          <span class="method-name">store_hash_in_flash</span><span class="method-args">(key, hash)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000084-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000084-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/portlet.rb, line 158</span>
158:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">store_hash_in_flash</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">hash</span>)
159:     <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span>,(<span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span>)<span class="ruby-operator">|</span>
160:       <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">StringIO</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">||</span> <span class="ruby-constant">Tempfile</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">v</span>
161:         <span class="ruby-identifier">p</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">v</span>
162:       <span class="ruby-keyword kw">end</span>
163:       <span class="ruby-identifier">p</span>
164:     <span class="ruby-keyword kw">end</span>      
165:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000082" class="method-detail">
        <a name="M000082"></a>

        <div class="method-heading">
          <a href="#M000082" class="method-signature">
          <span class="method-name">store_params_in_flash</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This will copy all the params from this request into the flash. The key in
the flash with be the portlet <a
href="Portlet.html#M000079">instance_name</a> and the value will be the
hash of all the params, except the params that have values that are a
StringIO or a Tempfile will be left out.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000082-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000082-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/portlet.rb, line 147</span>
147:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">store_params_in_flash</span>
148:     <span class="ruby-identifier">store_hash_in_flash</span> <span class="ruby-identifier">instance_name</span>, <span class="ruby-identifier">params</span>
149:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000077" class="method-detail">
        <a name="M000077"></a>

        <div class="method-heading">
          <a href="#M000077" class="method-signature">
          <span class="method-name">type_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000077-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000077-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/portlet.rb, line 116</span>
116:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">type_name</span>
117:     <span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">titleize</span>
118:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000081" class="method-detail">
        <a name="M000081"></a>

        <div class="method-heading">
          <a href="#M000081" class="method-signature">
          <span class="method-name">url_for_failure</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000081-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000081-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/portlet.rb, line 137</span>
137:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url_for_failure</span>
138:     [<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:failure_url</span>], <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">failure_url</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">referer</span>].<span class="ruby-identifier">detect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
139:       <span class="ruby-operator">!</span><span class="ruby-identifier">e</span>.<span class="ruby-identifier">blank?</span>
140:     <span class="ruby-keyword kw">end</span>    
141:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000080" class="method-detail">
        <a name="M000080"></a>

        <div class="method-heading">
          <a href="#M000080" class="method-signature">
          <span class="method-name">url_for_success</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000080-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000080-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/portlet.rb, line 131</span>
131:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url_for_success</span>
132:     [<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:success_url</span>], <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">success_url</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">referer</span>].<span class="ruby-identifier">detect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
133:       <span class="ruby-operator">!</span><span class="ruby-identifier">e</span>.<span class="ruby-identifier">blank?</span>
134:     <span class="ruby-keyword kw">end</span>    
135:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>