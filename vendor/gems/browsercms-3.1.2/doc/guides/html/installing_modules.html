<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>How to Install a Module</title>
    <link rel="stylesheet" type="text/css" href="files/stylesheets/syntax.css" />
    <script type="text/javascript" src="files/javascripts/code_highlighter.js"></script>
    <script type="text/javascript" src="files/javascripts/highlighters.js"></script>
    <style type="text/css">
      body {
        background: #FFFFFF url(images/bg.png) repeat-x scroll 0 0;
        font-family: "Trebuchet MS", Helvetica, Verdana, Arial, sans-serif;
        margin: 0;
        padding: 0;
      }
  
      #page {
        margin: 0 auto;
        text-align: left;
        width: 1000px;
      }
  
      #header {
        height: 110px;
      }
  
      div.top_cap {
        background: transparent url(images/top_cap.png) no-repeat scroll 0 0;
        height: 10px;
      }    
  
      #contentwrap {
        background: transparent url(images/dot.png) repeat scroll 0 0;
        float: left;
        width: 1000px;
      }
      
      div.bottom_cap {
        background: transparent url(images/bottom_cap.png) no-repeat scroll 0 0;
        height: 9px;
      }

      div.top_cap_content {
        background: transparent url(images/top_cap_content.png) no-repeat scroll 0 0;
        height: 5px;
      }
  
      #content {
        background-color: #FFFFFF;
        margin: 0 5px;
        padding: 0 10px;
      }
  
      div.title {
        padding: 20px;
      }
  
      div.title h1 {
        border-bottom: 3px solid #505358;
        color: #FFFFFF;
        font-size: 24pt;
        font-weight: normal;
        line-height: 1;
        margin: 0 0 10px;
        padding-bottom: 10px;
      }
      
      td.sidebar {
        font-size: 8pt;
        width: 165px;
        padding: 5px;
      }
      
      td.sidebar ol {
        margin-left: 20px;
        padding: 0;
        line-height: 1.5;
      }
      
      td.sidebar ol li {
        margin: 0;
        padding: 0;
      }
      
      td.sidebar ol li ul {
        list-style-type: none;
        padding-left: 10px;
      }
      
      td.guides {
        font-size: 10pt;
        width: 800px;
        padding: 10px;
      }
      
      .code_container {
        padding: 10px;
        background: #eee;
        border: 1px solid #ccc;
        overflow: auto;
        width: 760px;
      }
      
      pre, code {
        overflow: auto;
        white-space:pre;        
      }
      .note {
	-moz-background-clip:border;
	-moz-background-inline-policy:continuous;
	-moz-background-origin:padding;
	background:#FFF9D8 url(../images/tab_note.gif) no-repeat scroll left top;
	border:medium none;
	margin:0.25em 0 1.5em;
	padding:1em 1em 0.25em 48px;
	}
    </style>
  </head>
  <body>
    <div id="page">
      <div id="header">
        <a href="index.html"><img style="border:0px" src="images/browsercms_logo.png" alt="BrowserCMS"/></a>
      </div>
      <div id="main">
        <div class="top_cap"></div>
        <div id="contentwrap">
          <div class="title">
            <h1>How to Install a Module</h1>
          </div>
          <div class="top_cap_content"></div>
          <div id="content">
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
              <tr>                
                <td class="sidebar" valign="top">
                        <div id="subCol">
        <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />Chapters</h3>
        <ol class="chapters">
<li><a href="#overview">Overview</a><ul></ul></li><li><a href="#getting-the-module-from-gemcutter">Getting the module from Gemcutter</a><ul></ul></li><li><a href="#adding-the-module-to-your-project">Adding the Module to your project</a><ul><li><a href="#edit-the-configenvironmentrb-file">Edit the config/environment.rb file</a></li><li><a href="#edit-the-routesrb-file">Edit the routes.rb file</a></li><li><a href="#install-the-new-module-code">Install the new module code</a></li><li><a href="#run-migrations-and-start-the-server">Run migrations and start the server</a></li><li><a href="#adding-content">Adding Content</a></li></ul></li></ol></div>
                </td>
                <td class="guides">
                  <h2>How to Install a Module</h2>
<p>This guide covers how to download and install a module for BrowserCMS. With BrowserCMS, modules are packaged as Ruby Gems, which contain the code to add new behavior to a BrowserCMS project. Installing a module consists of several steps, including:</p>
<ol>
	<li>Getting the Gem installed</li>
	<li>Telling BrowserCMS to use that Gem</li>
	<li>Pulling the module specific code into your project (like migrations)</li>
	<li>Running migrations</li>
</ol>
<p>Once you have done the above steps, you should have access to the Content blocks and portlets that each module provides, and you can add them to your pages.</p>
<p>This guide is for BrowserCMS <strong>3.1</strong>. Some code shown here may not work with older versions of BrowserCMS.</p>
                  <h3 id="overview">1 Overview</h3>
<p>This module assumes you are going to be building installing module as gems. Let&#8217;s assume you want to install the News module, who&#8217;s project name (and gem name) is &#8216;bcms_news&#8217;. If you want to install other modules, just substitute the name of the module you want for &#8216;bcms_news&#8217;.</p>
<p>Before installing a module, its worth reviewing the <tt>README</tt> file for the module. It may contain some specific instructions on how to install and use the module, in addition to the basic steps outlined here. The <tt>README</tt> file can be found as the landing page on the github repository for a module. For example, the <a href="http://github.com/browsermedia/bcms_page_comments">Page Comments</a> module has an overview of the module and its installation instructions.</p>
<h3 id="getting-the-module-from-gemcutter">2 Getting the module from Gemcutter</h3>
<p>For modules released as gems, they should be hosted on <a href="http://gemcutter.org">Gemcutter</a>. If you have a new enough version of <a href="http://docs.rubygems.org">RubyGems</a> you should be able to download gems via:</p>
<div class="code_container"><code class="html">$ gem install bcms_news</code></div>
<p>At this point, the News module gem should be installed as a gem on your system, and can be added to your projects.</p>
<h3 id="adding-the-module-to-your-project">3 Adding the Module to your project</h3>
<p>In your BrowserCMS application, do the following steps.</p>
<h4 id="edit-the-configenvironmentrb-file">3.1 Edit the config/environment.rb file</h4>
<div class="code_container"><code class="ruby">config.gem 'browsercms', :version=&gt;&quot;3.1.0&quot;
# Add this next line after the browsercms gem
config.gem &quot;bcms_news&quot;, :version=&gt;&quot;1.0.0&quot;</code></div>
<h4 id="edit-the-routesrb-file">3.2 Edit the routes.rb file</h4>
<div class="code_container"><code class="ruby"># Add this route. It must be before the core browser_cms route.
map.routes_for_bcms_news
map.routes_for_browser_cms</code></div>
<h4 id="install-the-new-module-code">3.3 Install the new module code</h4>
<p>From the root directory of your cms project, run:</p>
<div class="code_container"><code class="html">$ script/generate browser_cms</code></div>
<p>This will copy all the necessary views and migrations from the gems into your local project. You should messages checking to see if files already exist or were created.</p>
<h4 id="run-migrations-and-start-the-server">3.4 Run migrations and start the server</h4>
<p>Modules will often add new data types, like content blocks, so you need to run the migrations to add them to your project.</p>
<div class="code_container"><code class="html">$ rake db:migrate
$ script/server</code></div>
<h4 id="adding-content">3.5 Adding Content</h4>
<p>Most modules will come with a few new types of content, either a new Content Block and one or more Portlets, which are designed to display those Content Blocks in interesting ways. To discover what new contents have been added, you can look at the Content Library for a new group (like &#8216;News&#8217;) or add a new Portlet, which will list all available portlets in the system.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <br clear="all"/>
        <div class="bottom_cap"></div>
      </div>
    </div>
  </body>
</html>

